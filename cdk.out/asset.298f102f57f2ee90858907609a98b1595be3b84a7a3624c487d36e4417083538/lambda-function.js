"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.newOrder = exports.handler = void 0;
const AWS = require("aws-sdk");
const dynamodb = new AWS.DynamoDB.DocumentClient();
const TableName = 'teste_table';
async function handler(event, context, callback) {
    return {
        statusCode: 200,
        body: JSON.stringify({
            message: 'Hello AWS witnesses'
        })
    };
}
exports.handler = handler;
async function newOrder(req) {
    const body = JSON.parse(req.body);
    // const { name, email } = body;
    const newItem = {
        TableName,
        Item: { ...body }
    };
    try {
        await dynamodb.put(newItem).promise();
        return {
            statusCode: 200,
            body: JSON.stringify({
                message: 'User saved'
            })
        };
    }
    catch (error) {
        return {
            statusCode: 500,
            body: JSON.stringify({
                message: 'User save error'
            })
        };
    }
}
exports.newOrder = newOrder;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGFtYmRhLWZ1bmN0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibGFtYmRhLWZ1bmN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLCtCQUErQjtBQUcvQixNQUFNLFFBQVEsR0FBRyxJQUFJLEdBQUcsQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7QUFDbkQsTUFBTSxTQUFTLEdBQUcsYUFBYSxDQUFDO0FBRXpCLEtBQUssVUFBVSxPQUFPLENBQUMsS0FBc0IsRUFBRSxPQUFnQixFQUFFLFFBQWtCO0lBQ3RGLE9BQU87UUFDSCxVQUFVLEVBQUUsR0FBRztRQUNmLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQ2pCLE9BQU8sRUFBRSxxQkFBcUI7U0FDakMsQ0FBQztLQUNMLENBQUM7QUFDTixDQUFDO0FBUEQsMEJBT0M7QUFFTSxLQUFLLFVBQVUsUUFBUSxDQUFDLEdBQVE7SUFDbkMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEMsZ0NBQWdDO0lBRWhDLE1BQU0sT0FBTyxHQUFHO1FBQ1osU0FBUztRQUNULElBQUksRUFBRSxFQUFFLEdBQUcsSUFBSSxFQUFFO0tBQ3BCLENBQUM7SUFFRixJQUFJO1FBQ0EsTUFBTSxRQUFRLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3RDLE9BQU87WUFDSCxVQUFVLEVBQUUsR0FBRztZQUNmLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDO2dCQUNqQixPQUFPLEVBQUUsWUFBWTthQUN4QixDQUFDO1NBQ0wsQ0FBQztLQUNMO0lBQUMsT0FBTyxLQUFLLEVBQUU7UUFDWixPQUFPO1lBQ0gsVUFBVSxFQUFFLEdBQUc7WUFDZixJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQztnQkFDakIsT0FBTyxFQUFFLGlCQUFpQjthQUM3QixDQUFDO1NBQ0wsQ0FBQztLQUNMO0FBQ0wsQ0FBQztBQXpCRCw0QkF5QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBBV1MgZnJvbSAnYXdzLXNkayc7XG5pbXBvcnQgeyBBUElHYXRld2F5RXZlbnQsIENvbnRleHQsIENhbGxiYWNrLCBBUElHYXRld2F5UHJveHlSZXN1bHQgfSBmcm9tICdhd3MtbGFtYmRhJztcblxuY29uc3QgZHluYW1vZGIgPSBuZXcgQVdTLkR5bmFtb0RCLkRvY3VtZW50Q2xpZW50KCk7XG5jb25zdCBUYWJsZU5hbWUgPSAndGVzdGVfdGFibGUnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihldmVudDogQVBJR2F0ZXdheUV2ZW50LCBjb250ZXh0OiBDb250ZXh0LCBjYWxsYmFjazogQ2FsbGJhY2spOiBQcm9taXNlPEFQSUdhdGV3YXlQcm94eVJlc3VsdD4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0hlbGxvIEFXUyB3aXRuZXNzZXMnXG4gICAgICAgIH0pXG4gICAgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5ld09yZGVyKHJlcTogYW55KSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UocmVxLmJvZHkpO1xuICAgIC8vIGNvbnN0IHsgbmFtZSwgZW1haWwgfSA9IGJvZHk7XG5cbiAgICBjb25zdCBuZXdJdGVtID0ge1xuICAgICAgICBUYWJsZU5hbWUsXG4gICAgICAgIEl0ZW06IHsgLi4uYm9keSB9XG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGR5bmFtb2RiLnB1dChuZXdJdGVtKS5wcm9taXNlKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1VzZXIgc2F2ZWQnXG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXNDb2RlOiA1MDAsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1VzZXIgc2F2ZSBlcnJvcidcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgfVxufSJdfQ==